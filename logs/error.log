ERROR 2025-11-08 20:19:17,410 django.request Internal Server Error: /api/login/
Traceback (most recent call last):
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 489, in thread_handler
    raise exc_info[1]
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 489, in thread_handler
    raise exc_info[1]
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
        request, *callback_args, **callback_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 439, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 493, in thread_handler
    return func(*args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/ChatBot/api/views.py", line 15, in post
    user = authenticate(username, password)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/decorators/debug.py", line 75, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
TypeError: authenticate() takes from 0 to 1 positional arguments but 2 were given
ERROR 2025-11-08 20:19:17,425 django.channels.server [35;1mHTTP POST /api/login/ 500 [0.12, 127.0.0.1:40322][0m
ERROR 2025-11-08 20:21:12,566 django.request Internal Server Error: /api/login/
Traceback (most recent call last):
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 489, in thread_handler
    raise exc_info[1]
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 489, in thread_handler
    raise exc_info[1]
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
        request, *callback_args, **callback_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 439, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 493, in thread_handler
    return func(*args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/ChatBot/api/views.py", line 15, in post
    user = authenticate(username, password)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/decorators/debug.py", line 75, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
TypeError: authenticate() takes from 0 to 1 positional arguments but 2 were given
ERROR 2025-11-08 20:21:12,572 django.channels.server [35;1mHTTP POST /api/login/ 500 [0.11, 127.0.0.1:53496][0m
ERROR 2025-11-08 20:24:33,355 django.request Internal Server Error: /api/login/
Traceback (most recent call last):
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/fields/__init__.py", line 2128, in get_prep_value
    return int(value)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/contrib/auth/models.py", line 549, in __int__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Cannot cast AnonymousUser to int. Are you trying to use it in place of User?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 489, in thread_handler
    raise exc_info[1]
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 489, in thread_handler
    raise exc_info[1]
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
        request, *callback_args, **callback_kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 439, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/asgiref/sync.py", line 493, in thread_handler
    return func(*args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/ChatBot/api/views.py", line 20, in post
    token, created= Token.objects.get_or_create(user=user)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/query.py", line 946, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/query.py", line 619, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/query.py", line 1493, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/query.py", line 1511, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/query.py", line 1518, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1646, in add_q
    clause, _ = self._add_q(q_object, can_reuse)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1678, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1588, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1415, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/lookups.py", line 38, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/fields/related_lookups.py", line 112, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/home/pempi/Proyects/ChatBotDjangoPython/env/lib/python3.13/site-packages/django/db/models/fields/__init__.py", line 2130, in get_prep_value
    raise e.__class__(
        "Field '%s' expected a number but got %r." % (self.name, value),
    ) from e
TypeError: Field 'id' expected a number but got <django.contrib.auth.models.AnonymousUser object at 0x7f6926f59950>.
ERROR 2025-11-08 20:24:33,365 django.channels.server [35;1mHTTP POST /api/login/ 500 [0.12, 127.0.0.1:54284][0m
